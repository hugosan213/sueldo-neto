<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulador de Sueldo Neto</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
</head>
<body>
  <button id="modoOscuroBtn" title="Activar modo oscuro">üåô</button>

  <div class="container">
    
    <header class="header" style="display:flex;align-items:center;gap:10px;justify-content:center;">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Logo sueldo" width="38" height="38" style="border-radius:8px;box-shadow:0 2px 8px #0002;" aria-hidden="true" />
      <h1 style="margin:0;">Simulador de Sueldo Neto</h1>
    </header>

    <form id="formulario" novalidate>
      <label for="sueldoBruto">Sueldo Bruto ($):</label>
      <input type="number" id="sueldoBruto" step="any" required />
      <small class="error" id="errorInput"></small>

      <fieldset class="opcionesExtra" aria-labelledby="descuentosOpcionales">
        <legend id="descuentosOpcionales">Descuentos Opcionales</legend>
        <label style="display:flex;align-items:center;gap:6px;">
          <input type="checkbox" id="prepaga" aria-describedby="ayudaPrepaga" />
          Obra social prepaga
          <span tabindex="0" aria-label="¬øQu√© es la prepaga?" class="tooltip-ayuda" style="cursor:pointer;">‚ÑπÔ∏è
            <span class="tooltip-text" id="ayudaPrepaga">Adicional sobre la obra social obligatoria, seg√∫n plan elegido.</span>
          </span>
          <select id="prepagaPorc" disabled style="margin-left:8px;">
            <option value="0.02">2%</option>
            <option value="0.03">3%</option>
            <option value="0.04">4%</option>
          </select>
        </label>
        <label style="display:flex;align-items:center;gap:6px;">
          <input type="checkbox" id="sindicato" aria-describedby="ayudaSindicato" />
          Sindicato
          <span tabindex="0" aria-label="¬øQu√© es el sindicato?" class="tooltip-ayuda" style="cursor:pointer;">‚ÑπÔ∏è
            <span class="tooltip-text" id="ayudaSindicato">Aporte gremial, var√≠a seg√∫n convenio colectivo.</span>
          </span>
          <select id="sindicatoPorc" disabled style="margin-left:8px;">
            <option value="0.02">2%</option>
            <option value="0.03">3%</option>
            <option value="0.01">1%</option>
          </select>
        </label>
      </fieldset>

      <div id="piechart-container" style="margin: 18px auto 0; max-width: 350px; display: none;">
        <canvas id="piechart" width="350" height="220" aria-label="Gr√°fico de descuentos" role="img"></canvas>
      </div>

      <div class="buttons">
        <button type="submit" id="btnCalcular" disabled>Calcular</button>
        <button type="button" id="btnLimpiar">Limpiar</button>
      </div>
    </form>

    <div id="resultado" class="resultado"></div>

    <canvas id="grafico" width="400" height="200" style="display: none;"></canvas>

    <div class="pdf-container">
      <button id="btnPDF" style="display: none;">üìÅ Descargar PDF</button>
    </div>
  </div>

  <!-- Librer√≠as externas -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
